(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return l(5718)}])},5718:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return d}});var n=l(5893),t=l(7294);let c=()=>{let[e,a]=(0,t.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),l=JSON.parse(JSON.stringify(e));return{maze:e,setMaze:a,directions:[[-1,0],[0,1],[1,0],[0,-1]],newMaze:l}},s=0,i=0,r=()=>{let{maze:e,setMaze:a,directions:l,newMaze:n}=c(),r=e=>{for(let a=0;a<9;a++)for(let l=0;l<9;l++)e(a,l)},o=(a,t)=>{if(a%2==1&&t%2==1){let c=l[Math.floor(Math.random()*l.length)];void 0!==e[a+c[0]]&&void 0!==e[t+c[1]]&&(n[a+c[0]][t+c[1]]=2,n[a][t]=1)}},u=(e,l)=>{2===n[e][l]&&(n[e][l]=1,a(n))},_=(e,l)=>{n[e][l]=0,a(n)},d=()=>{r(_),r(o),n[0][0]=3,n[8][8]=6,r(u),k(0),s=0,i=0},[b,k]=(0,t.useState)(0),[f,h]=(0,t.useState)(!1),[C,v]=(0,t.useState)(0),x=l[b%4],N=l[(b+1)%4],g=(0,t.useCallback)((a,l)=>void 0!==e[a+x[0]]&&void 0!==e[l+x[1]],[e,x]),m=(0,t.useCallback)((a,l)=>g(a,l)&&(0===e[a+x[0]][l+x[1]]||6===e[a+x[0]][l+x[1]]),[g,e,x]),w=(0,t.useCallback)((e,l)=>{n[e][l]=4,n[e+x[0]][l+x[1]]=3,a(n),v(1)},[n,x,a]),p=(0,t.useCallback)((e,l)=>{n[e][l]=5,n[e+x[0]][l+x[1]]=3,a(n),v(1)},[n,x,a]),E=(0,t.useCallback)(()=>{3===b?k(0):k(b+1)},[b]),S=(0,t.useCallback)((a,l)=>void 0===e[a+N[0]][l+N[1]]||1===e[a+N[0]][l+N[1]]||4===e[a+N[0]][l+N[1]]||5===e[a+N[0]][l+N[1]],[e,N]),j=0,O=(0,t.useCallback)((e,a)=>{0===j&&(m(e,a)&&S(e,a)?(w(e,a),console.log("進んだ")):E())},[j,m,S,w,E]),J=(0,t.useCallback)((a,l)=>void 0===e[a+N[0]][l+N[1]]||4===e[a+N[0]][l+N[1]]||5===e[a+N[0]][l+N[1]]||1===e[a+N[0]][l+N[1]],[e,N]),X=(0,t.useCallback)((a,l)=>{g(a,l)&&4===e[a+x[0]][l+x[1]]&&J(a,l)&&(p(a,l),j++)},[j,g,e,x,p,J]),M=(0,t.useCallback)((a,l)=>{m(a,l)?w(a,l):1===e[a+x[0]][l+x[1]]||void 0===e[a+x[0]][l+x[1]]?E():p(a,l)},[m,e,x,w,p,E]),q=(0,t.useCallback)((e,a)=>{b%4==1?M(e,a):(X(e,a),O(e,a))},[b,X,O,M]),y=(0,t.useCallback)((a,l)=>{0===C&&3===e[a][l]&&(8!==a?(X(a,l),O(a,l)):8===a&&q(a,l))},[e,X,O,q,C]),D=(0,t.useCallback)(()=>{0===s&&3===e[8][8]&&(alert("goal"),s++)},[e]),I=()=>{h(!f),i=1};return{maze:e,onClick:d,iterateBoard:r,onSearchClickkey:I,autoClick:f,goal:s,humanMove:y,Goal:D,setSearchCount:v,start:i}};var o=l(2729),u=l.n(o);let _=()=>{let{maze:e,onClick:a,iterateBoard:l,onSearchClickkey:c,autoClick:s,goal:i,humanMove:o,Goal:_,setSearchCount:d,start:b}=r();return(0,t.useEffect)(()=>{if(s){let e=()=>{0===i&&1===b&&(l(o),d(0),l(_))},a=setInterval(()=>{e()},1e3);return()=>clearInterval(a)}},[s,o,_,i,l,d,b]),(0,n.jsxs)("div",{className:u().container,children:[(0,n.jsx)("div",{className:u().board,children:e.map((e,a)=>e.map((e,l)=>{let t=1===e?u()["cell-black"]:6===e?u().goal:3===e?u().human:u()["cell-white"];return(0,n.jsx)("div",{className:t},"cell-".concat(a,"-").concat(l))}))}),(0,n.jsx)("button",{className:u().generation,onClick:a,children:"生成"}),(0,n.jsx)("button",{className:u().search,onClick:c,children:"探索"})]})};var d=_},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe","cell-white":"index_cell-white__uENqL","cell-black":"index_cell-black__d0AqM",generation:"index_generation__J_0HX",search:"index_search__DO3fa",human:"index_human__Xw7_d",goal:"index_goal__JD3y_"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);