(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5718)}])},5718:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return _}});var n=a(5893),t=a(7294);let c=()=>{let[e,l]=(0,t.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),a=JSON.parse(JSON.stringify(e));return{maze:e,setMaze:l,directions:[[-1,0],[0,1],[1,0],[0,-1]],newMaze:a}},s=0,i=()=>{let{maze:e,setMaze:l,directions:a,newMaze:n}=c(),i=e=>{for(let l=0;l<9;l++)for(let a=0;a<9;a++)e(l,a)},r=(l,t)=>{if(l%2==1&&t%2==1){let c=a[Math.floor(Math.random()*a.length)];void 0!==e[l+c[0]]&&void 0!==e[t+c[1]]&&(n[l+c[0]][t+c[1]]=2,n[l][t]=1)}},o=(e,a)=>{2===n[e][a]&&(n[e][a]=1,l(n))},u=(e,a)=>{n[e][a]=0,l(n)},_=()=>{i(u),i(r),n[0][0]=3,i(o),b(0)},[d,b]=(0,t.useState)(0),[h,k]=(0,t.useState)(!1),[f,C]=(0,t.useState)(0),v=a[d%4],x=a[(d+1)%4],N=(0,t.useCallback)((l,a)=>void 0!==e[l+v[0]]&&void 0!==e[a+v[1]],[e,v]),w=(0,t.useCallback)((l,a)=>N(l,a)&&0===e[l+v[0]][a+v[1]],[N,e,v]),m=(0,t.useCallback)((e,a)=>{n[e][a]=4,n[e+v[0]][a+v[1]]=3,l(n),C(1)},[n,v,l]),g=(0,t.useCallback)((e,a)=>{n[e][a]=5,n[e+v[0]][a+v[1]]=3,l(n),C(1)},[n,v,l]),p=(0,t.useCallback)(()=>{3===d?(console.log("回転した"),b(0)):(console.log("回転した"),b(d+1))},[d]),E=(0,t.useCallback)((l,a)=>void 0===e[l+x[0]][a+x[1]]||1===e[l+x[0]][a+x[1]]||4===e[l+x[0]][a+x[1]]||5===e[l+x[0]][a+x[1]],[e,x]),S=0,j=(0,t.useCallback)((e,l)=>{0===S&&(w(e,l)&&E(e,l)?(m(e,l),console.log("進んだ")):p())},[S,w,E,m,p]),O=(0,t.useCallback)((l,a)=>void 0===e[l+x[0]][a+x[1]]||4===e[l+x[0]][a+x[1]]||5===e[l+x[0]][a+x[1]]||1===e[l+x[0]][a+x[1]],[e,x]),X=(0,t.useCallback)((l,a)=>{N(l,a)&&4===e[l+v[0]][a+v[1]]&&O(l,a)&&(g(l,a),S++)},[S,N,e,v,g,O]),J=(0,t.useCallback)((l,a)=>{w(l,a)?m(l,a):1===e[l+v[0]][a+v[1]]||void 0===e[l+v[0]][a+v[1]]?p():g(l,a)},[w,e,v,m,g,p]),M=(0,t.useCallback)((e,l)=>{d%4==1?J(e,l):(X(e,l),j(e,l))},[d,X,j,J]),q=(0,t.useCallback)((l,a)=>{0===f&&3===e[l][a]&&(8!==l?(X(l,a),j(l,a)):8===l&&M(l,a))},[e,X,j,M,f]),I=(0,t.useCallback)(()=>{0===s&&3===e[8][8]&&(alert("goal"),s++)},[e]),P=()=>{k(!h)};return{maze:e,onClick:_,iterateBoard:i,onSearchClickkey:P,autoClick:h,goal:s,humanMove:q,Goal:I,setSearchCount:C}};var r=a(2729),o=a.n(r);let u=()=>{let{maze:e,onClick:l,iterateBoard:a,onSearchClickkey:c,autoClick:s,goal:r,humanMove:u,Goal:_,setSearchCount:d}=i();return(0,t.useEffect)(()=>{if(s){let e=()=>{0===r&&(a(u),d(0),a(_))},l=setInterval(()=>{e()},1e3);return()=>clearInterval(l)}},[s,u,_,r,a,d]),(0,n.jsxs)("div",{className:o().container,children:[(0,n.jsx)("div",{className:o().board,children:e.map((e,l)=>e.map((e,a)=>{let t=0===e?o()["cell-white"]:1===e?o()["cell-black"]:4===e?o()["cell-white"]:5===e?o()["cell-white"]:o().human;return(0,n.jsx)("div",{className:t},"cell-".concat(l,"-").concat(a))}))}),(0,n.jsx)("button",{className:o().generation,onClick:l,children:"生成"}),(0,n.jsx)("button",{className:o().search,onClick:c,children:"探索"})]})};var _=u},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe","cell-white":"index_cell-white__uENqL","cell-black":"index_cell-black__d0AqM",generation:"index_generation__J_0HX",search:"index_search__DO3fa",human:"index_human__Xw7_d"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);