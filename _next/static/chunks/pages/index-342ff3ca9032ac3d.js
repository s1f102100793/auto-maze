(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5718)}])},5718:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var n=t(5893),l=t(7294);let i=()=>{let[e,a]=(0,l.useState)(9),t=e=>{let a=[];for(let t=0;t<e;t++){let t=[];for(let a=0;a<e;a++)t.push(0);a.push(t)}return a},[n,i]=(0,l.useState)(t(e));(0,l.useEffect)(()=>{i(t(e))},[e]);let c=e=>{e%2==0&&e++,a(e)},_=JSON.parse(JSON.stringify(n)),s=e=>{for(let a=0;a<9;a++)for(let t=0;t<9;t++)e(a,t)};return{maze:n,setMaze:i,directions:[[-1,0],[0,1],[1,0],[0,-1]],newMaze:_,iterateBoard:s,handleMazeSizeChange:c,mazeSize:e}},c=0,_=0,s=()=>{let{maze:e,setMaze:a,directions:t,newMaze:n,iterateBoard:s}=i(),r=(a,l)=>{if(a%2==1&&l%2==1){let i=t[Math.floor(Math.random()*t.length)];void 0!==e[a+i[0]]&&void 0!==e[l+i[1]]&&(n[a+i[0]][l+i[1]]=2,n[a][l]=1)}},d=(e,t)=>{2===n[e][t]&&(n[e][t]=1,a(n))},o=(e,t)=>{n[e][t]=0,a(n)},u=()=>{s(o),s(r),n[0][0]=3,n[8][8]=6,s(d),x(1),c=0,_=0},[h,x]=(0,l.useState)(0),[k,b]=(0,l.useState)(!1),[f,N]=(0,l.useState)(0),p=t[h%4],m=t[(h+1)%4],v=(0,l.useCallback)((a,t)=>void 0!==e[a+p[0]]&&void 0!==e[t+p[1]],[e,p]),g=(0,l.useCallback)((a,t)=>v(a,t)&&(0===e[a+p[0]][t+p[1]]||6===e[a+p[0]][t+p[1]]),[v,e,p]),C=(0,l.useCallback)((e,t)=>{n[e][t]=4,n[e+p[0]][t+p[1]]=3,a(n),N(1)},[n,p,a]),w=(0,l.useCallback)((e,t)=>{n[e][t]=5,n[e+p[0]][t+p[1]]=3,a(n),N(1)},[n,p,a]),j=(0,l.useCallback)(()=>{3===h?x(0):x(h+1)},[h]),E=(0,l.useCallback)((a,t)=>void 0===e[a+m[0]][t+m[1]]||1===e[a+m[0]][t+m[1]]||4===e[a+m[0]][t+m[1]]||5===e[a+m[0]][t+m[1]],[e,m]),S=0,J=(0,l.useCallback)((e,a)=>{0===S&&(g(e,a)&&E(e,a)?C(e,a):j())},[S,g,E,C,j]),O=(0,l.useCallback)((a,t)=>void 0===e[a+m[0]][t+m[1]]||4===e[a+m[0]][t+m[1]]||5===e[a+m[0]][t+m[1]]||1===e[a+m[0]][t+m[1]],[e,m]),y=(0,l.useCallback)((a,t)=>{v(a,t)&&4===e[a+p[0]][t+p[1]]&&O(a,t)&&(w(a,t),S++)},[S,v,e,p,w,O]),A=(0,l.useCallback)((a,t)=>{g(a,t)?C(a,t):1===e[a+p[0]][t+p[1]]||void 0===e[a+p[0]][t+p[1]]?j():w(a,t)},[g,e,p,C,w,j]),K=(0,l.useCallback)((e,a)=>{h%4==1?A(e,a):(y(e,a),J(e,a))},[h,y,J,A]),L=(0,l.useCallback)((a,t)=>{0===f&&3===e[a][t]&&(8!==a?(y(a,t),J(a,t)):8===a&&K(a,t))},[e,y,J,K,f]),X=(0,l.useCallback)(()=>{0===c&&3===e[8][8]&&c++},[e]),D=()=>{b(!k),_=1};return{maze:e,onClick:u,onSearchClickkey:D,autoClick:k,goal:c,humanMove:L,Goal:X,setSearchCount:N,start:_,newMaze:n,setMaze:a,human:h}};var r=t(2729),d=t.n(r);let o=()=>{let{maze:e,onClick:a,onSearchClickkey:t,goal:c,humanMove:_,Goal:r,setSearchCount:o,start:u,human:h}=s(),{iterateBoard:x}=i();(0,l.useEffect)(()=>{let e=()=>{0===c&&1===u&&(x(_),o(0),x(r))},a=setInterval(()=>{e()},180);return()=>clearInterval(a)},[_,r,c,x,o,u]);let k=e=>"rotate".concat((e-1)*90),b=(e,a,t,l)=>(0,n.jsx)("div",{className:t,children:7===l&&(0,n.jsx)("div",{className:d()["text-box"],children:(0,n.jsx)("h1",{className:d().pikachuget,children:"ピカチュウ キミにきめた！"})})},"cell-".concat(e,"-").concat(a));return(0,n.jsxs)("div",{className:d().container,children:[(0,n.jsx)("div",{className:d().header,children:(0,n.jsx)("h1",{className:d()["animated-heading"],children:"サトシにたどりつけ！"})}),(0,n.jsx)("div",{className:d().board,children:e.map((e,a)=>e.map((e,t)=>{let n=1===e?d()["cell-black"]:6===e?d().goal:3===e?"".concat(d().pikachu," ").concat(d()[k(h)]):7===e?d().satoshipikachu:d()["cell-white"];return b(a,t,n,e)}))}),(0,n.jsx)("button",{className:d().generation,onClick:a,children:(0,n.jsx)("h1",{className:d().word,children:"はじめから"})}),(0,n.jsx)("button",{className:d().search,onClick:t,children:(0,n.jsx)("h1",{className:d().word,children:"さがす"})})]})};var u=o},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe","cell-black":"index_cell-black__d0AqM","cell-white":"index_cell-white__uENqL",word:"index_word__ce1RG",generation:"index_generation__J_0HX",search:"index_search__DO3fa",select:"index_select__SNxK0",header:"index_header__A7Bm0","animated-heading":"index_animated-heading__50WU9","fade-in-out":"index_fade-in-out__0iz2x",goal:"index_goal__JD3y_",satoshipikachu:"index_satoshipikachu__E8fxD","text-box":"index_text-box__A2d9x","slide-in":"index_slide-in__k679J",pikachuget:"index_pikachuget__L1iNK",typing:"index_typing__NhouK",pikachu:"index_pikachu__XK_Hx",rotate0:"index_rotate0__a7G_l",rotate90:"index_rotate90__TJl8A",rotate180:"index_rotate180__uvL1U","rotate-90":"index_rotate-90__jo42L"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);