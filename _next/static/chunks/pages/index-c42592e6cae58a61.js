(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5718)}])},5718:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return u}});var c=t(5893),n=t(7294);let i=()=>{let[e,a]=(0,n.useState)(9),t=e=>{let a=[];for(let t=0;t<e;t++){let t=[];for(let a=0;a<e;a++)t.push(0);a.push(t)}return a},[c,i]=(0,n.useState)(t(e));(0,n.useEffect)(()=>{i(t(e))},[e]);let l=e=>{e%2==0&&e++,a(e)},_=JSON.parse(JSON.stringify(c)),s=e=>{for(let a=0;a<9;a++)for(let t=0;t<9;t++)e(a,t)};return{maze:c,setMaze:i,directions:[[-1,0],[0,1],[1,0],[0,-1]],newMaze:_,iterateBoard:s,handleMazeSizeChange:l,mazeSize:e}},l=0,_=0,s=()=>{let[e,a]=(0,n.useState)(0),[t,c]=(0,n.useState)(0),{maze:s,setMaze:r,directions:d,newMaze:o,iterateBoard:u}=i(),x=(e,a)=>{if(e%2==1&&a%2==1){let t=d[Math.floor(Math.random()*d.length)];void 0!==s[e+t[0]]&&void 0!==s[a+t[1]]&&(o[e+t[0]][a+t[1]]=2,o[e][a]=1)}},h=(e,a)=>{2===o[e][a]&&(o[e][a]=1,r(o))},b=(e,a)=>{o[e][a]=0,r(o)},k=()=>{u(b),u(x),o[0][0]=3,o[8][8]=6,u(h),m(1),l=0,_=0,a(1-e),c(1-t)},[v,m]=(0,n.useState)(0),[N,f]=(0,n.useState)(!1),[g,j]=(0,n.useState)(0),p=d[v%4],C=d[(v+1)%4],w=(0,n.useCallback)((e,a)=>void 0!==s[e+p[0]]&&void 0!==s[a+p[1]],[s,p]),S=(0,n.useCallback)((e,a)=>w(e,a)&&(0===s[e+p[0]][a+p[1]]||6===s[e+p[0]][a+p[1]]),[w,s,p]),E=(0,n.useCallback)((e,a)=>{o[e][a]=4,o[e+p[0]][a+p[1]]=3,r(o),j(1)},[o,p,r]),O=(0,n.useCallback)((e,a)=>{o[e][a]=5,o[e+p[0]][a+p[1]]=3,r(o),j(1)},[o,p,r]),y=(0,n.useCallback)(()=>{3===v?m(0):m(v+1)},[v]),J=(0,n.useCallback)((e,a)=>void 0===s[e+C[0]][a+C[1]]||1===s[e+C[0]][a+C[1]]||4===s[e+C[0]][a+C[1]]||5===s[e+C[0]][a+C[1]],[s,C]),L=0,A=(0,n.useCallback)((e,a)=>{0===L&&(S(e,a)&&J(e,a)?E(e,a):y())},[L,S,J,E,y]),K=(0,n.useCallback)((e,a)=>void 0===s[e+C[0]][a+C[1]]||4===s[e+C[0]][a+C[1]]||5===s[e+C[0]][a+C[1]]||1===s[e+C[0]][a+C[1]],[s,C]),X=(0,n.useCallback)((e,a)=>{w(e,a)&&4===s[e+p[0]][a+p[1]]&&K(e,a)&&(O(e,a),L++)},[L,w,s,p,O,K]),B=(0,n.useCallback)((e,a)=>{S(e,a)?E(e,a):1===s[e+p[0]][a+p[1]]||void 0===s[e+p[0]][a+p[1]]?y():O(e,a)},[S,s,p,E,O,y]),G=(0,n.useCallback)((e,a)=>{v%4==1?B(e,a):(X(e,a),A(e,a))},[v,X,A,B]),T=(0,n.useCallback)((e,a)=>{0===g&&3===s[e][a]&&(8!==e?(X(e,a),A(e,a)):8===e&&G(e,a))},[s,X,A,G,g]),D=(0,n.useCallback)(()=>{0===l&&3===s[8][8]&&l++},[s]),H=()=>{f(!N),_=1};return{maze:s,onClick:k,onSearchClickkey:H,autoClick:N,goal:l,humanMove:T,Goal:D,setSearchCount:j,start:_,newMaze:o,setMaze:r,human:v,blockPettern:e,setBlockPettern:a,boardPettern:t}};var r=t(2729),d=t.n(r);let o=()=>{let{blockPettern:e,maze:a,onClick:t,onSearchClickkey:l,goal:_,humanMove:r,Goal:o,setSearchCount:u,start:x,newMaze:h,setMaze:b,human:k,boardPettern:v}=s(),{iterateBoard:m}=i();(0,n.useEffect)(()=>{let e=()=>{0===_&&1===x&&(m(r),u(0),m(o))},a=setInterval(()=>{e()},180);return()=>clearInterval(a)},[r,o,_,m,u,x]),3===a[8][8]&&(h[8][8]=7,b(h));let N=e=>"rotate".concat((e-1)*90),f=(e,a,t,n)=>(0,c.jsx)("div",{className:t,children:7===n&&(0,c.jsx)("div",{className:d()["text-box"],children:(0,c.jsx)("h1",{className:d().pikachuget,children:"ピカチュウ キミにきめた！"})})},"cell-".concat(e,"-").concat(a));console.log("human",k);let g=()=>(0,c.jsxs)("div",{className:d().rectcontainer,children:[(0,c.jsx)("div",{className:"".concat(d().rect1," ").concat(1===k?d().active:"")}),(0,c.jsx)("div",{className:"".concat(d().rect2," ").concat(2===k?d().active:"")}),(0,c.jsx)("div",{className:"".concat(d().rect3," ").concat(3===k?d().active:"")}),(0,c.jsx)("div",{className:"".concat(d().rect0," ").concat(0===k?d().active:"")})]});return(0,c.jsx)("div",{className:d().container,children:(0,c.jsxs)("div",{className:d().gameboy,children:[(0,c.jsx)("div",{className:d().header,children:(0,c.jsx)("h1",{className:d()["animated-heading"],children:"サトシにたどりつけ！"})}),(0,c.jsx)("div",{className:d()["board".concat(v)],children:a.map((a,t)=>a.map((a,c)=>{let n=1===a?d()["cell-black".concat(e)]:6===a?d().goal:3===a?"".concat(d().pikachu," ").concat(d()[N(k)]):7===a?d().satoshipikachu:d()["cell-white"];return f(t,c,n,a)}))}),(0,c.jsxs)("div",{className:d().lower,children:[(0,c.jsx)(g,{}),(0,c.jsxs)("div",{className:d().rightbutton,children:[(0,c.jsx)("button",{className:d().generation,onClick:t,children:(0,c.jsx)("h1",{className:d().word,children:"はじめから"})}),(0,c.jsx)("button",{className:d().search,onClick:l,children:(0,c.jsx)("h1",{className:d().word,children:"さがす"})})]})]})]})})};var u=o},2729:function(e){e.exports={container:"index_container__gnN1f",gameboy:"index_gameboy__xAHBa",board0:"index_board0__OLs42",board1:"index_board1__iJLCK","cell-white":"index_cell-white__uENqL","cell-black0":"index_cell-black0__3u2Mm","cell-black1":"index_cell-black1__sav1Q",word:"index_word__ce1RG",lower:"index_lower__BybWO",rightbutton:"index_rightbutton___m60p",generation:"index_generation__J_0HX",search:"index_search__DO3fa",header:"index_header__A7Bm0","animated-heading":"index_animated-heading__50WU9","fade-in-out":"index_fade-in-out__0iz2x",goal:"index_goal__JD3y_",satoshipikachu:"index_satoshipikachu__E8fxD","text-box":"index_text-box__A2d9x","slide-in":"index_slide-in__k679J",pikachuget:"index_pikachuget__L1iNK",typing:"index_typing__NhouK",pikachu:"index_pikachu__XK_Hx",rotate0:"index_rotate0__a7G_l",rotate90:"index_rotate90__TJl8A",rotate180:"index_rotate180__uvL1U","rotate-90":"index_rotate-90__jo42L",rectcontainer:"index_rectcontainer__e8GkO",rect0:"index_rect0__54PhG",rect1:"index_rect1__AOkSX",rect2:"index_rect2__vvjz3",rect3:"index_rect3__TwiBS",active:"index_active__YVVEx",select:"index_select__SNxK0"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);