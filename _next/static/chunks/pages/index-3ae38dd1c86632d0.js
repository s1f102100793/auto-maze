(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(5718)}])},5718:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return d}});var l=t(5893),n=t(7294);let c=()=>{let[e,a]=(0,n.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),t=JSON.parse(JSON.stringify(e)),l=e=>{for(let a=0;a<9;a++)for(let t=0;t<9;t++)e(a,t)};return{maze:e,setMaze:a,directions:[[-1,0],[0,1],[1,0],[0,-1]],newMaze:t,iterateBoard:l}},o=0,s=0,i=()=>{let{maze:e,setMaze:a,directions:t,newMaze:l,iterateBoard:i}=c(),r=(a,n)=>{if(a%2==1&&n%2==1){let c=t[Math.floor(Math.random()*t.length)];void 0!==e[a+c[0]]&&void 0!==e[n+c[1]]&&(l[a+c[0]][n+c[1]]=2,l[a][n]=1)}},_=(e,t)=>{2===l[e][t]&&(l[e][t]=1,a(l))},u=(e,t)=>{l[e][t]=0,a(l)},d=()=>{i(u),i(r),l[0][0]=3,l[8][8]=6,i(_),h(1),o=0,s=0},[k,h]=(0,n.useState)(0),[b,x]=(0,n.useState)(!1),[f,C]=(0,n.useState)(0),v=t[k%4],N=t[(k+1)%4],p=(0,n.useCallback)((a,t)=>void 0!==e[a+v[0]]&&void 0!==e[t+v[1]],[e,v]),g=(0,n.useCallback)((a,t)=>p(a,t)&&(0===e[a+v[0]][t+v[1]]||6===e[a+v[0]][t+v[1]]),[p,e,v]),m=(0,n.useCallback)((e,t)=>{l[e][t]=4,l[e+v[0]][t+v[1]]=3,a(l),C(1)},[l,v,a]),w=(0,n.useCallback)((e,t)=>{l[e][t]=5,l[e+v[0]][t+v[1]]=3,a(l),C(1)},[l,v,a]),j=(0,n.useCallback)(()=>{3===k?h(0):h(k+1)},[k]),E=(0,n.useCallback)((a,t)=>void 0===e[a+N[0]][t+N[1]]||1===e[a+N[0]][t+N[1]]||4===e[a+N[0]][t+N[1]]||5===e[a+N[0]][t+N[1]],[e,N]),S=0,J=(0,n.useCallback)((e,a)=>{0===S&&(g(e,a)&&E(e,a)?m(e,a):j())},[S,g,E,m,j]),O=(0,n.useCallback)((a,t)=>void 0===e[a+N[0]][t+N[1]]||4===e[a+N[0]][t+N[1]]||5===e[a+N[0]][t+N[1]]||1===e[a+N[0]][t+N[1]],[e,N]),X=(0,n.useCallback)((a,t)=>{p(a,t)&&4===e[a+v[0]][t+v[1]]&&O(a,t)&&(w(a,t),S++)},[S,p,e,v,w,O]),y=(0,n.useCallback)((a,t)=>{g(a,t)?m(a,t):1===e[a+v[0]][t+v[1]]||void 0===e[a+v[0]][t+v[1]]?j():w(a,t)},[g,e,v,m,w,j]),D=(0,n.useCallback)((e,a)=>{k%4==1?y(e,a):(X(e,a),J(e,a))},[k,X,J,y]),L=(0,n.useCallback)((a,t)=>{0===f&&3===e[a][t]&&(8!==a?(X(a,t),J(a,t)):8===a&&D(a,t))},[e,X,J,D,f]),M=(0,n.useCallback)(()=>{0===o&&3===e[8][8]&&o++},[e]),T=()=>{x(!b),s=1};return{maze:e,onClick:d,onSearchClickkey:T,autoClick:b,goal:o,humanMove:L,Goal:M,setSearchCount:C,start:s,newMaze:l,setMaze:a,human:k}};var r=t(2729),_=t.n(r);let u=()=>{let{maze:e,onClick:a,onSearchClickkey:t,autoClick:o,goal:s,humanMove:r,Goal:u,setSearchCount:d,start:k,newMaze:h,setMaze:b,human:x}=i(),{iterateBoard:f}=c();(0,n.useEffect)(()=>{if(o){let e=()=>{0===s&&1===k&&(f(r),d(0),f(u))},a=setInterval(()=>{e()},180);return()=>clearInterval(a)}},[o,r,u,s,f,d,k]);let[C,v]=(0,n.useState)(0);console.log("goal",s),console.log("start",k);let N=()=>{0===s&&(f(r),d(0),f(u))};3===e[8][8]&&(h[8][8]=7,b(h));let p=e=>"rotate".concat((e-1)*90);console.log(C);let g=()=>{for(let e=0;e<C;e++)N()};return console.table(e),(0,l.jsxs)("div",{className:_().container,children:[(0,l.jsx)("div",{className:_().board,children:e.map((e,a)=>e.map((e,t)=>{let n=1===e?_()["cell-black"]:6===e?_().goal:3===e?"".concat(_().pikachu," ").concat(_()[p(x)]):7===e?_().satoshipikachu:_()["cell-white"];return(0,l.jsx)("div",{className:n},"cell-".concat(a,"-").concat(t))}))}),(0,l.jsx)("button",{className:_().generation,onClick:a,children:"生成"}),(0,l.jsx)("button",{className:_().search,onClick:t,children:"探索"}),(0,l.jsx)("button",{className:_().select,onClick:g,children:"入力した〇手目を表示"}),(0,l.jsx)("input",{type:"number",value:C,onChange:e=>v(Number(e.target.value))})]})};var d=u},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe","cell-white":"index_cell-white__uENqL","cell-black":"index_cell-black__d0AqM",generation:"index_generation__J_0HX",search:"index_search__DO3fa",select:"index_select__SNxK0",goal:"index_goal__JD3y_",satoshipikachu:"index_satoshipikachu__E8fxD",pikachu:"index_pikachu__XK_Hx",rotate0:"index_rotate0__a7G_l",rotate90:"index_rotate90__TJl8A",rotate180:"index_rotate180__uvL1U","rotate-90":"index_rotate-90__jo42L"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);