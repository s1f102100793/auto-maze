(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,l,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5718)}])},5718:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return d}});var n=a(5893),t=a(7294);let c=()=>{let[e,l]=(0,t.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),a=JSON.parse(JSON.stringify(e));return{maze:e,setMaze:l,directions:[[-1,0],[0,1],[1,0],[0,-1]],newMaze:a}},s=0,o=0,i=()=>{let{maze:e,setMaze:l,directions:a,newMaze:n}=c(),i=e=>{for(let l=0;l<9;l++)for(let a=0;a<9;a++)e(l,a)},r=(l,t)=>{if(l%2==1&&t%2==1){let c=a[Math.floor(Math.random()*a.length)];void 0!==e[l+c[0]]&&void 0!==e[t+c[1]]&&(n[l+c[0]][t+c[1]]=2,n[l][t]=1)}},u=(e,a)=>{2===n[e][a]&&(n[e][a]=1,l(n))},_=(e,a)=>{n[e][a]=0,l(n)},d=()=>{i(_),i(r),n[0][0]=3,i(u),h(0),s=0,o=0},[b,h]=(0,t.useState)(0),[k,f]=(0,t.useState)(!1),[C,v]=(0,t.useState)(0),x=a[b%4],N=a[(b+1)%4],w=(0,t.useCallback)((l,a)=>void 0!==e[l+x[0]]&&void 0!==e[a+x[1]],[e,x]),g=(0,t.useCallback)((l,a)=>w(l,a)&&0===e[l+x[0]][a+x[1]],[w,e,x]),m=(0,t.useCallback)((e,a)=>{n[e][a]=4,n[e+x[0]][a+x[1]]=3,l(n),v(1)},[n,x,l]),p=(0,t.useCallback)((e,a)=>{n[e][a]=5,n[e+x[0]][a+x[1]]=3,l(n),v(1)},[n,x,l]),E=(0,t.useCallback)(()=>{3===b?(console.log("回転した"),h(0)):(console.log("回転した"),h(b+1))},[b]),S=(0,t.useCallback)((l,a)=>void 0===e[l+N[0]][a+N[1]]||1===e[l+N[0]][a+N[1]]||4===e[l+N[0]][a+N[1]]||5===e[l+N[0]][a+N[1]],[e,N]),j=0,O=(0,t.useCallback)((e,l)=>{0===j&&(g(e,l)&&S(e,l)?(m(e,l),console.log("進んだ")):E())},[j,g,S,m,E]),X=(0,t.useCallback)((l,a)=>void 0===e[l+N[0]][a+N[1]]||4===e[l+N[0]][a+N[1]]||5===e[l+N[0]][a+N[1]]||1===e[l+N[0]][a+N[1]],[e,N]),J=(0,t.useCallback)((l,a)=>{w(l,a)&&4===e[l+x[0]][a+x[1]]&&X(l,a)&&(p(l,a),j++)},[j,w,e,x,p,X]),M=(0,t.useCallback)((l,a)=>{g(l,a)?m(l,a):1===e[l+x[0]][a+x[1]]||void 0===e[l+x[0]][a+x[1]]?E():p(l,a)},[g,e,x,m,p,E]),q=(0,t.useCallback)((e,l)=>{b%4==1?M(e,l):(J(e,l),O(e,l))},[b,J,O,M]),I=(0,t.useCallback)((l,a)=>{0===C&&3===e[l][a]&&(8!==l?(J(l,a),O(l,a)):8===l&&q(l,a))},[e,J,O,q,C]),P=(0,t.useCallback)(()=>{0===s&&3===e[8][8]&&(alert("goal"),s++)},[e]),T=()=>{f(!k),o=1};return{maze:e,onClick:d,iterateBoard:i,onSearchClickkey:T,autoClick:k,goal:s,humanMove:I,Goal:P,setSearchCount:v,start:o}};var r=a(2729),u=a.n(r);let _=()=>{let{maze:e,onClick:l,iterateBoard:a,onSearchClickkey:c,autoClick:s,goal:o,humanMove:r,Goal:_,setSearchCount:d,start:b}=i();return console.log("start",b),(0,t.useEffect)(()=>{if(s){let e=()=>{0===o&&1===b&&(a(r),d(0),a(_))},l=setInterval(()=>{e()},1e3);return()=>clearInterval(l)}},[s,r,_,o,a,d,b]),(0,n.jsxs)("div",{className:u().container,children:[(0,n.jsx)("div",{className:u().board,children:e.map((e,l)=>e.map((e,a)=>{let t=0===e?u()["cell-white"]:1===e?u()["cell-black"]:4===e?u()["cell-white"]:5===e?u()["cell-white"]:u().human;return(0,n.jsx)("div",{className:t},"cell-".concat(l,"-").concat(a))}))}),(0,n.jsx)("button",{className:u().generation,onClick:l,children:"生成"}),(0,n.jsx)("button",{className:u().search,onClick:c,children:"探索"})]})};var d=_},2729:function(e){e.exports={container:"index_container__gnN1f",board:"index_board__2d6xe","cell-white":"index_cell-white__uENqL","cell-black":"index_cell-black__d0AqM",generation:"index_generation__J_0HX",search:"index_search__DO3fa",human:"index_human__Xw7_d"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);